"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var chai = require("chai");
var expect = chai.expect;
var medialist = require("../index");
describe('Main Medialist Test', function () {
    this.timeout(20000);
    it('generate a file list', function (done) {
        medialist.list(__dirname, { exclude: ['node_modules'], serverUri: { path: __dirname, uri: 'http://localhost:3000' } }).then(function (list) {
            console.log(list);
            expect(list).to.be.ok;
            expect(list).to.be.an('Array');
            done();
        }).catch(function (err) {
            done(new Error(err));
        });
    });
    it('element of the list contains the path as string', function (done) {
        medialist.list(__dirname, { exclude: ['node_modules'] }).then(function (list) {
            expect(list[0]).have.property('path').that.is.a('string');
            done();
        }).catch(function (err) {
            done(new Error(err));
        });
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvbWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDJCQUE0QjtBQUM1QixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO0FBRTFCLG9DQUFxQztBQUlyQyxRQUFRLENBQUMscUJBQXFCLEVBQUU7SUFFNUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUNuQixFQUFFLENBQUMsc0JBQXNCLEVBQUUsVUFBVSxJQUFJO1FBQ3JDLFNBQVMsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUMsY0FBYyxDQUFDLEVBQUMsU0FBUyxFQUFDLEVBQUMsSUFBSSxFQUFDLFNBQVMsRUFBQyxHQUFHLEVBQUMsdUJBQXVCLEVBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsSUFBSTtZQUN0SCxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQ2pCLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQTtZQUNyQixNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUE7WUFDOUIsSUFBSSxFQUFFLENBQUE7UUFDVixDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsVUFBQyxHQUFHO1lBQ1QsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7UUFDeEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDLENBQUMsQ0FBQztJQUNILEVBQUUsQ0FBQyxpREFBaUQsRUFBRSxVQUFVLElBQUk7UUFFaEUsU0FBUyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsSUFBSTtZQUMvRCxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQTtZQUN6RCxJQUFJLEVBQUUsQ0FBQTtRQUNWLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxVQUFDLEdBQUc7WUFDVCxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtRQUN4QixDQUFDLENBQUMsQ0FBQTtJQUdOLENBQUMsQ0FBQyxDQUFDO0FBRVAsQ0FBQyxDQUFDLENBQUEiLCJmaWxlIjoidGVzdC9tYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY2hhaSBmcm9tICdjaGFpJ1xuY29uc3QgZXhwZWN0ID0gY2hhaS5leHBlY3RcblxuaW1wb3J0ICogYXMgbWVkaWFsaXN0IGZyb20gJy4uL2luZGV4J1xuXG5cblxuZGVzY3JpYmUoJ01haW4gTWVkaWFsaXN0IFRlc3QnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnRpbWVvdXQoMjAwMDApXG4gICAgaXQoJ2dlbmVyYXRlIGEgZmlsZSBsaXN0JywgZnVuY3Rpb24gKGRvbmUpIHtcbiAgICAgICAgbWVkaWFsaXN0Lmxpc3QoX19kaXJuYW1lLCB7IGV4Y2x1ZGU6IFsnbm9kZV9tb2R1bGVzJ10sc2VydmVyVXJpOntwYXRoOl9fZGlybmFtZSx1cmk6J2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCd9IH0pLnRoZW4oKGxpc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGxpc3QpXG4gICAgICAgICAgICBleHBlY3QobGlzdCkudG8uYmUub2tcbiAgICAgICAgICAgIGV4cGVjdChsaXN0KS50by5iZS5hbignQXJyYXknKVxuICAgICAgICAgICAgZG9uZSgpXG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGRvbmUobmV3IEVycm9yKGVycikpXG4gICAgICAgIH0pXG4gICAgfSk7XG4gICAgaXQoJ2VsZW1lbnQgb2YgdGhlIGxpc3QgY29udGFpbnMgdGhlIHBhdGggYXMgc3RyaW5nJywgZnVuY3Rpb24gKGRvbmUpIHtcblxuICAgICAgICBtZWRpYWxpc3QubGlzdChfX2Rpcm5hbWUsIHsgZXhjbHVkZTogWydub2RlX21vZHVsZXMnXSB9KS50aGVuKChsaXN0KSA9PiB7XG4gICAgICAgICAgICBleHBlY3QobGlzdFswXSkuaGF2ZS5wcm9wZXJ0eSgncGF0aCcpLnRoYXQuaXMuYSgnc3RyaW5nJylcbiAgICAgICAgICAgIGRvbmUoKVxuICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBkb25lKG5ldyBFcnJvcihlcnIpKVxuICAgICAgICB9KVxuXG5cbiAgICB9KTtcblxufSkiXX0=
